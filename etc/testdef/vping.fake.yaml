---
testcase:
    name: vping.fake
    alias: functest.vping_userdata
    trigger-type: docker
    objective: testing publish functionality
    # preparation works run in dovetail
    tc_prepare:
      worker: 'docker_trigger.modules.functest.tc_prepare:Prepare'
      args:
    trigger:
      image: opnfv/functest-smoke:euphrates
      opts: '-id --privileged=true'
      volumes:
        - '/Users/serena/github/docker-trigger/etc/envs/env_config.sh:/home/opnfv/functest/conf/openstack.creds'
        - '/Users/serena/github/docker-trigger/etc/images:/home/opnfv/functest/images'
        - '/Users/serena/github/docker-trigger/etc/results:/home/opnfv/functest/results'
        - '/Users/serena/github/docker-trigger/etc:/home/opnfv/dovetail'
      entry: '/bin/bash'
    # preparation works run in testing container, like functest/yardstick
      trigger_prepare:
        - 'echo trigger prepare'
      triggers:
        - 'bash /home/opnfv/dovetail/fake_vping.sh'
    # post works run in testing container, like functest/yardstick
      trigger_post:
        - 'echo trigger post'
    # post works run in dovetail
    tc_post:
      worker: 'docker_trigger.modules.functest.tc_post:Post'
      args:
    publisher:
      worker: 'docker_trigger.modules.functest.publish:Simple'
      args:
        result_file: '/Users/serena/github/docker-trigger/etc/results/result.json'
